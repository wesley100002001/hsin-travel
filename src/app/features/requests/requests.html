<div class="container">
  <div class="row" ng-show="requestsCtrl.isLoading">
    <div class="col-md-2 col-md-offset-5">
      <div class="loader"></div>
    </div>
  </div>
  <div class="row" ng-show="!requestsCtrl.isLoading">
    <h1 class="padding-down">{{ 'requests.Requests' | translate }}</h1>
    <div class="form-group form-inline">
      <span class="glyphicon glyphicon-search"></span>
      <input type="text" class="form-control" placeholder="{{ 'requests.PleaseEnterTitle' | translate }}" ng-model="requestsCtrl.searchText"
             ng-change="requestsCtrl.search()">
      <button class="btn btn-success pull-right" ng-show="requestsCtrl.creatable" ng-click="requestsCtrl.createRequest()">
        <span class="glyphicon glyphicon-plus"></span> {{ 'requests.Add' | translate }}
      </button>
    </div>
    <ul
      uib-pagination
      class="pagination-sm"
      total-items="requestsCtrl.requests.length"
      items-per-page="requestsCtrl.pageSize"
      max-size="requestsCtrl.maxSize"
      boundary-links="true"
      first-text="{{ 'requests.FirstPage' | translate }}"
      last-text="{{ 'requests.LastPage' | translate }}"
      next-text="{{ 'requests.NextPage' | translate }}"
      previous-text="{{ 'requests.PrevPage' | translate }}"
      ng-model="requestsCtrl.currentPage"
      ng-change="requestsCtrl.changePage()">
    </ul> 
    <table class="table git-table">
      <tr>
        <th>{{ 'requests.Title' | translate }}</th>
        <th>{{ 'requests.Region' | translate }}</th>
        <th>{{ 'requests.Company' | translate }}</th>
        <th>{{ 'requests.StartAt' | translate }}</th>
        <th>{{ 'requests.Creator' | translate }}</th>
        <th>{{ 'requests.LastUpdateAt' | translate }}</th>
      </tr>
      <tr ng-repeat="req in requestsCtrl.currentRequests | limitTo: requestsCtrl.pageSize">
        <td><a ui-sref="request({requestId: '{{req.id}}'})">{{req.title}}</a></td>
        <td>{{req.region}}</td>
        <td>{{req.clientName}}</td>
        <td>{{req.startsOn}}</td>
        <td>{{req.creator.username}}</td>
        <td>{{req.updatedAt}}</td>
      </tr>
    </table>
  </div>
</div>
